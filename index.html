<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Metas y Gastos</title>
  <style>
    :root {
      --rosado-claro: #f8e4e4;
      --greige: #eae6da;
      --terracota: #d77a61;
      --negro: #333333;
      --blanco: #ffffff;
      --azul: #008f39;
      --rojo: #ff3333;
    }

    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background: var(--greige);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .container {
      background: var(--blanco);
      border-radius: 15px;
      box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.1);
      width: 95%;
      max-width: 600px;
      padding: 20px;
      text-align: center;
    }

    h1 {
      color: var(--negro);
      margin-bottom: 20px;
      font-size: 24px;
    }

    .input-group {
      margin: 20px 0;
      text-align: left;
    }

    .input-group label {
      display: block;
      margin-bottom: 5px;
      color: var(--negro);
      font-weight: bold;
    }

    .input-group input[type="number"] {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--terracota);
      border-radius: 5px;
      font-size: 16px;
      box-sizing: border-box;
    }

    .results {
      margin-top: 20px;
      font-size: 18px;
      color: var(--negro);
    }

    .results span {
      font-weight: bold;
    }

    .results .sufficient {
      color: var(--azul);
    }

    .results .insufficient {
      color: var(--rojo);
    }

    .sub-expenses {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .sub-expenses label {
      font-size: 14px;
      color: var(--negro);
      font-weight: normal;
    }

    .sub-expenses input {
      font-size: 14px;
      padding: 5px;
    }

    .slider-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .slider-container label {
      margin-bottom: 10px;
      color: var(--negro);
      font-size: 16px;
      font-weight: bold;
    }

    input[type="range"] {
      -webkit-appearance: none;
      width: 100%;
      max-width: 400px;
      height: 8px;
      border-radius: 5px;
      background: var(--terracota);
      outline: none;
      margin: 10px 0;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: var(--negro);
      border-radius: 50%;
      cursor: pointer;
    }

    footer {
      margin-top: 20px;
      font-size: 14px;
      color: var(--negro);
    }

    .highlight {
      font-weight: bold;
      color: var(--azul);
    }

    .emoticon {
      font-size: 20px;
      margin-left: 10px;
    }

    .password-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: var(--greige);
    }

    .password-input {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid var(--terracota);
      margin-bottom: 20px;
      width: 80%;
      max-width: 300px;
      text-align: center;
    }

    .password-button {
      background-color: var(--azul);
      color: var(--blanco);
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }

    .password-message {
      font-size: 30px;
      color: var(--negro);
      font-weight: bold;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <!-- Pantalla de Contrase√±a -->
<div id="passwordScreen" class="password-container">
  <!-- Agregado el texto de bienvenida en grande -->
  <h1 style="font-size: 40px; color: var(--negro); margin-bottom: 20px;">¬°Bienvenido!</h1>
  <input type="password" id="passwordInput" class="password-input" placeholder="Introduzca la contrase√±a aqui">
  <button class="password-button" onclick="checkPassword()">Acceder</button>
  <div id="passwordMessage" class="password-message"></div>
</div>


  <!-- Contenido protegido -->
  <div id="content" class="container" style="display: none;">
    <h1>Calculadora de Metas y Gastos üí∏</h1>

    <div class="input-group">
      <label for="totalAmount">Meta total ($):</label>
      <input type="number" id="totalAmount" value="20000" step="0.01">
    </div>

    <div class="input-group">
      <label for="monthlyExpenses">Gastos mensuales ($):</label>
      <input type="number" id="monthlyExpenses" readonly>
      <div class="sub-expenses">
        <div>
          <label for="rent">Alquiler:</label>
          <input type="number" id="rent" value="0" step="0.01">
        </div>
        <div>
          <label for="food">Comida:</label>
          <input type="number" id="food" value="0" step="0.01">
        </div>
        <div>
          <label for="services">Servicios:</label>
          <input type="number" id="services" value="0" step="0.01">
        </div>
        <div>
          <label for="education">Educaci√≥n:</label>
          <input type="number" id="education" value="0" step="0.01">
        </div>
        <div>
          <label for="entertainment">Entretenimiento:</label>
          <input type="number" id="entertainment" value="0" step="0.01">
        </div>
        <div>
          <label for="others">Otros:</label>
          <input type="number" id="others" value="0" step="0.01">
        </div>
      </div>
    </div>

    <!-- Ganancia por operaci√≥n se muestra primero -->
    <div class="input-group">
      <label for="profitPerOperation">Ganancia por operaci√≥n ($):</label>
      <input type="number" id="profitPerOperation" value="0" step="0.01" readonly>
    </div>

    <div class="input-group">
      <label for="cost">Costo del producto ($):</label>
      <input type="number" id="cost" value="0" step="0.01">
    </div>

    <div class="input-group">
      <label for="price">Precio de venta ($):</label>
      <input type="number" id="price" value="0" step="0.01">
    </div>

    <div class="slider-container">
      <label for="operationsPerMonth">Operaciones mensuales: <span id="operationsLabel">50</span> üè†</label>
      <input type="range" id="operationsPerMonth" value="50" min="1" max="1000" step="1">
    </div>

    <div class="results">
      <p>Estado de tus operaciones para gastos: 
        <span id="expenseStatus" class="insufficient">‚ùå Insuficiente</span>
      </p>
      <p>Ganancia sobrante mensual: $<span id="monthlyProfit">0</span> üí∞</p>
      <p>Tiempo estimado para la meta:</p>
      <ul>
        <li><span id="monthsNeeded" class="highlight">0</span> meses üóìÔ∏è</li>
        <li><span id="yearsNeeded" class="highlight">0</span> a√±os üéâ</li>
      </ul>
    </div>

    <footer>
      <p class="highlight">Recuerda, lo importante es ser constante. ¬°T√∫ puedes! üí™</p>
    </footer>
  </div>

  <script>
    const passwordScreen = document.getElementById('passwordScreen');
    const content = document.getElementById('content');
    const passwordInput = document.getElementById('passwordInput');
    const passwordMessage = document.getElementById('passwordMessage');

    function checkPassword() {
      const password = passwordInput.value;
      if (password === "q1w2e3r4t5") {
        passwordScreen.style.display = 'none';
        content.style.display = 'block';
      } else {
        passwordMessage.textContent = "Contrase√±a incorrecta. Intenta de nuevo.";
        passwordMessage.style.color = 'red';
      }
    }

    const totalAmountInput = document.getElementById('totalAmount');
    const monthlyExpensesInput = document.getElementById('monthlyExpenses');
    const profitPerOperationInput = document.getElementById('profitPerOperation');
    const costInput = document.getElementById('cost');
    const priceInput = document.getElementById('price');
    const operationsPerMonthSlider = document.getElementById('operationsPerMonth');
    const operationsLabel = document.getElementById('operationsLabel');
    const expenseStatus = document.getElementById('expenseStatus');
    const monthlyProfit = document.getElementById('monthlyProfit');
    const monthsNeeded = document.getElementById('monthsNeeded');
    const yearsNeeded = document.getElementById('yearsNeeded');

    let expenses = {
      rent: 0,
      food: 0,
      services: 0,
      education: 0,
      entertainment: 0,
      others: 0
    };

    // Actualiza el total de los gastos
    function updateExpenses() {
      const expenseValues = Object.values(expenses);
      const totalExpenses = expenseValues.reduce((sum, value) => sum + parseFloat(value || 0), 0);
      monthlyExpensesInput.value = totalExpenses;
      updateResults();
    }

    // Actualiza el estado de la meta
    function updateResults() {
      const totalAmount = parseFloat(totalAmountInput.value || 0);
      const monthlyExpenses = parseFloat(monthlyExpensesInput.value || 0);
      const profitPerOperation = parseFloat(profitPerOperationInput.value || 0);
      const operationsPerMonth = parseInt(operationsPerMonthSlider.value);
      const monthlyProfitValue = profitPerOperation * operationsPerMonth - monthlyExpenses;
      monthlyProfit.textContent = monthlyProfitValue.toFixed(2);

      if (monthlyProfitValue > 0) {
        expenseStatus.classList.remove('insufficient');
        expenseStatus.classList.add('sufficient');
        expenseStatus.textContent = '‚úÖ Suficiente';
      } else {
        expenseStatus.classList.remove('sufficient');
        expenseStatus.classList.add('insufficient');
        expenseStatus.textContent = '‚ùå Insuficiente';
      }

      const months = Math.ceil(totalAmount / monthlyProfitValue);
      const years = (months / 12).toFixed(2);
      monthsNeeded.textContent = months;
      yearsNeeded.textContent = years;
    }

    // Actualiza la ganancia por operaci√≥n
    function updateProfitPerOperation() {
      const cost = parseFloat(costInput.value || 0);
      const price = parseFloat(priceInput.value || 0);
      const profit = price - cost;
      profitPerOperationInput.value = profit.toFixed(2);
      updateResults();
    }

    // Ajusta operaciones por mes
    operationsPerMonthSlider.addEventListener('input', () => {
      operationsLabel.textContent = operationsPerMonthSlider.value;
      updateResults();
    });

    // Ajuste de sub-gastos
    Object.keys(expenses).forEach(key => {
      document.getElementById(key).addEventListener('input', (event) => {
        expenses[key] = event.target.value;
        updateExpenses();
      });
    });

    // Actualiza la ganancia cada vez que cambian el costo o precio
    costInput.addEventListener('input', updateProfitPerOperation);
    priceInput.addEventListener('input', updateProfitPerOperation);

    // Inicializaci√≥n
    updateExpenses();
    updateProfitPerOperation();
  </script>

</body>
</html>